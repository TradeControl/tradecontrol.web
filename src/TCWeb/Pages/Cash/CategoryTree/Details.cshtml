@page
@model TradeControl.Web.Pages.Cash.CategoryTree.TreeDetailsModel
@{
    var isEmbedded = string.Equals(Request.Query["embed"], "1", StringComparison.Ordinal);
    if (isEmbedded)
    {
        Layout = null;
    }
}

@if (Model == null || string.IsNullOrWhiteSpace(Model.NodeType))
{
    <div class="text-muted small px-2 py-1">No selection.</div>
}
else if (Model.NodeType == "code" && Model.Code != null)
{
    await Html.RenderPartialAsync("_CashCodeDetailsCard", Model.Code);
}
else if (Model.NodeType == "category" && Model.Category != null)
{
    await Html.RenderPartialAsync("_CategoryDetailsCard", Model.Category);
}
else
{
    <div class="text-muted small px-2 py-1">No details available.</div>
}
